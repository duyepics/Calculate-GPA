<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calculate GPA</title>
    <link rel="icon" type="image/png" href="logo.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
  <script type="importmap">
{
  "imports": {
    "react/": "https://aistudiocdn.com/react@^19.2.0/",
    "react": "https://aistudiocdn.com/react@^19.2.0",
    "lucide-react": "https://aistudiocdn.com/lucide-react@^0.554.0"
  }
}
</script>
</head>
  <body>
    <div class="min-h-screen bg-[#F8F9FA] py-8 px-4 font-sans text-gray-900">
      <div class="max-w-6xl mx-auto space-y-8">
        
        <!-- Header Section -->
        <header class="text-center md:text-left space-y-2">
          <h1 class="text-3xl md:text-4xl font-extrabold tracking-tight text-gray-900">
            CÔNG CỤ TÍNH ĐIỂM TRUNG BÌNH HỌC TẬP
          </h1>
          <p class="text-gray-500 max-w-2xl text-base md:text-lg">
            Nhập thông tin môn học của bạn để tính điểm trung bình theo hệ 10 và hệ 4.
          </p>
        </header>

        <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
          
          <!-- Left Column: Input Form -->
          <div class="lg:col-span-8 space-y-6">
            
            <!-- Control Panel -->
            <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex flex-col sm:flex-row items-center justify-between gap-4">
              <div class="flex flex-col w-full sm:w-auto">
                <label class="text-sm font-semibold text-gray-700 mb-1.5">Số lượng môn học</label>
                <div class="flex gap-2">
                  <input 
                    type="number" 
                    id="numSubjectsInput"
                    min="1" 
                    max="50"
                    value="3"
                    class="w-20 px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-center font-medium"
                  />
                  <button 
                    id="btnGenerate"
                    class="px-4 py-2 bg-white border border-gray-200 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors active:scale-95"
                  >
                    Tạo lại
                  </button>
                </div>
              </div>
              
              <div class="text-right hidden sm:block">
                 <p class="text-xs text-gray-400">Mặc định: 40% Giữa kỳ / 60% Cuối kỳ</p>
              </div>
            </div>

            <!-- Subjects List -->
            <div class="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden">
              <!-- Header Row (Desktop) -->
              <div class="hidden md:grid grid-cols-12 gap-4 px-8 py-4 bg-gray-50/50 border-b border-gray-100 text-xs font-semibold text-gray-500 uppercase tracking-wider">
                <div class="col-span-4">Tên môn học</div>
                <div class="col-span-2">Số tín chỉ</div>
                <div class="col-span-2">Giữa kỳ (40%)</div>
                <div class="col-span-3">Cuối kỳ (60%)</div>
                <div class="col-span-1 text-right"></div>
              </div>

              <!-- Rows Container -->
              <div id="subjectList" class="px-4 md:px-4">
                <!-- Rows will be injected here via JS -->
              </div>
              
              <!-- Empty State -->
              <div id="emptyState" class="hidden py-12 text-center text-gray-400">
                Chưa có môn học nào.
              </div>

              <!-- Action Footer -->
              <div class="p-6 bg-gray-50/50 border-t border-gray-100 flex gap-4">
                 <button 
                  id="btnCalculate"
                  class="flex-1 sm:flex-none bg-blue-600 text-white px-6 py-3 rounded-xl font-semibold hover:bg-blue-700 shadow-lg shadow-blue-200 transition-all active:scale-95 flex items-center justify-center gap-2"
                 >
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="16" height="20" x="4" y="2" rx="2"/><line x1="8" x2="16" y1="6" y2="6"/><line x1="16" x2="16" y1="14" y2="18"/><path d="M16 10h.01"/><path d="M12 10h.01"/><path d="M8 10h.01"/><path d="M12 14h.01"/><path d="M8 14h.01"/><path d="M12 18h.01"/><path d="M8 18h.01"/></svg>
                    Tính điểm
                 </button>
                 <button 
                  id="btnAddSubject"
                  class="flex-1 sm:flex-none bg-gray-200 text-gray-700 px-6 py-3 rounded-xl font-semibold hover:bg-gray-300 transition-all active:scale-95 flex items-center justify-center gap-2"
                 >
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"/><path d="M12 5v14"/></svg>
                    Thêm môn
                 </button>
              </div>
            </div>
          </div>

          <!-- Right Column: Results -->
          <div class="lg:col-span-4 space-y-6">
            <h2 class="text-xl font-bold text-gray-900">Kết quả</h2>
            
            <!-- Grid for side-by-side compact cards -->
            <div class="grid grid-cols-2 gap-4">
              <!-- GPA 4 Card -->
              <div class="bg-white rounded-2xl p-4 shadow-sm border border-gray-100 flex flex-col h-full relative overflow-hidden transition-all hover:shadow-md ring-1 ring-blue-100">
                <div class="absolute -top-6 -right-6 w-20 h-20 bg-blue-50 rounded-full blur-2xl opacity-60 pointer-events-none"></div>
                <h3 class="text-gray-500 text-xs font-semibold uppercase tracking-wider mb-1">
                  ĐTB Hệ 4
                </h3>
                <div class="mt-1 flex items-baseline gap-2">
                  <span id="resultAvg4" class="text-4xl font-bold text-blue-600 tracking-tight leading-none">
                    0.00
                  </span>
                </div>
              </div>

              <!-- GPA 10 Card -->
              <div class="bg-white rounded-2xl p-4 shadow-sm border border-gray-100 flex flex-col h-full relative overflow-hidden transition-all hover:shadow-md">
                <h3 class="text-gray-500 text-xs font-semibold uppercase tracking-wider mb-1">
                  ĐTB Hệ 10
                </h3>
                <div class="mt-1 flex items-baseline gap-2">
                  <span id="resultAvg10" class="text-4xl font-bold text-blue-600 tracking-tight leading-none">
                    0.00
                  </span>
                </div>
              </div>
            </div>
            
            <!-- Classification Banner -->
            <div id="classificationBanner" class="hidden rounded-2xl p-5 flex items-center justify-between shadow-sm border">
                <div class="flex flex-col">
                  <span class="text-xs font-semibold uppercase opacity-70 mb-1">Xếp loại học lực</span>
                  <span id="classificationText" class="text-xl font-bold"></span>
                </div>
            </div>
            
            <!-- Info Box -->
            <div class="bg-blue-50 rounded-xl p-4 text-sm text-blue-800 border border-blue-100">
              <p class="font-semibold mb-1">Cách tính điểm:</p>
              <ul class="list-disc list-inside space-y-1 opacity-80">
                <li>Điểm môn = 0.4 * GK + 0.6 * CK</li>
                <li>Làm tròn điểm hệ 10 đến 1 chữ số thập phân</li>
                <li>Quy đổi sang hệ 4 theo thang điểm CTUT</li>
              </ul>
            </div>
          </div>

          <!-- Info Box: Bảng quy đổi hệ 10 -->
          <div class="lg:col-span-12">

            <div class="bg-white rounded-xl p-6 text-sm text-gray-800 border border-gray-200 shadow-sm">
              <h3 class="font-semibold text-base mb-4 text-gray-900">
                Bảng quy đổi điểm hệ 10 → Điểm chữ & Xếp loại (CTUT)
              </h3>
              
              <div class="overflow-x-auto">
                <table class="w-full text-sm border-collapse border border-gray-300">
                  <thead>
                    <tr class="bg-gray-100">
                      <th class="border border-gray-300 py-3 px-4 font-bold text-gray-900">Loại</th>
                      <th class="border border-gray-300 py-3 px-4 font-bold text-gray-900">Điểm hệ số 10</th>
                      <th class="border border-gray-300 py-3 px-4 font-bold text-gray-900">Điểm chữ</th>
                      <th class="border border-gray-300 py-3 px-4 font-bold text-gray-900">Xếp loại</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr class="hover:bg-gray-50">
                      <td class="border border-gray-300 py-2.5 px-4 font-semibold" rowspan="8">a) Loại đạt (tích lũy)</td>
                      <td class="border border-gray-300 py-2.5 px-4 text-center">9,5 - 10</td>
                      <td class="border border-gray-300 py-2.5 px-4 text-center font-medium text-green-600">A+</td>
                      <td class="border border-gray-300 py-2.5 px-4 text-center" rowspan="2">Giỏi</td>
                    </tr>
                    <tr class="hover:bg-gray-50">
                      <td class="border border-gray-300 py-2.5 px-4 text-center">8,5 - 9,4</td>
                      <td class="border border-gray-300 py-2.5 px-4 text-center font-medium text-green-600">A</td>
                    </tr>
                    <tr class="hover:bg-gray-50">
                      <td class="border border-gray-300 py-2.5 px-4 text-center">8,0 - 8,4</td>
                      <td class="border border-gray-300 py-2.5 px-4 text-center font-medium text-blue-600">B+</td>
                      <td class="border border-gray-300 py-2.5 px-4 text-center" rowspan="2">Khá</td>
                    </tr>
                    <tr class="hover:bg-gray-50">
                      <td class="border border-gray-300 py-2.5 px-4 text-center">7,0 - 7,9</td>
                      <td class="border border-gray-300 py-2.5 px-4 text-center font-medium text-blue-600">B</td>
                    </tr>
                    <tr class="hover:bg-gray-50">
                      <td class="border border-gray-300 py-2.5 px-4 text-center">6,5 - 6,9</td>
                      <td class="border border-gray-300 py-2.5 px-4 text-center font-medium text-yellow-600">C+</td>
                      <td class="border border-gray-300 py-2.5 px-4 text-center" rowspan="2">Trung bình</td>
                    </tr>
                    <tr class="hover:bg-gray-50">
                      <td class="border border-gray-300 py-2.5 px-4 text-center">5,5 - 6,4</td>
                      <td class="border border-gray-300 py-2.5 px-4 text-center font-medium text-yellow-600">C</td>
                    </tr>
                    <tr class="hover:bg-gray-50">
                      <td class="border border-gray-300 py-2.5 px-4 text-center">5,0 - 5,4</td>
                      <td class="border border-gray-300 py-2.5 px-4 text-center font-medium text-orange-600">D+</td>
                      <td class="border border-gray-300 py-2.5 px-4 text-center" rowspan="2">Trung bình yếu</td>
                    </tr>
                    <tr class="hover:bg-gray-50">
                      <td class="border border-gray-300 py-2.5 px-4 text-center">4,0 - 4,9</td>
                      <td class="border border-gray-300 py-2.5 px-4 text-center font-medium text-orange-600">D</td>
                    </tr>
                    <tr class="hover:bg-gray-50">
                      <td class="border border-gray-300 py-2.5 px-4 font-semibold">b) Loại không đạt</td>
                      <td class="border border-gray-300 py-2.5 px-4 text-center">0,0 - 3,9</td>
                      <td class="border border-gray-300 py-2.5 px-4 text-center font-medium text-red-600">F</td>
                      <td class="border border-gray-300 py-2.5 px-4 text-center">Kém</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>

          <!-- Info Box: Bảng quy đổi hệ 4 -->
          <div class="lg:col-span-12">
            <div class="bg-white rounded-xl p-6 text-sm text-gray-800 border border-gray-200 shadow-sm">

              <p class="font-semibold mb-3">Bảng quy đổi điểm hệ 4 → Điểm chữ (CTUT)</p>

              <div class="overflow-x-auto w-full">
                <table class="w-full text-sm border-collapse">
                  <thead class="text-gray-600">
                    <tr>
                      <th class="border-b py-2 text-left">Điểm số (4)</th>
                      <th class="border-b py-2 text-left">Điểm chữ</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr><td class="py-2">4.0</td><td>A+</td></tr>
                    <tr><td class="py-2">3.8</td><td>A</td></tr>
                    <tr><td class="py-2">3.5</td><td>B+</td></tr>
                    <tr><td class="py-2">3.0</td><td>B</td></tr>
                    <tr><td class="py-2">2.5</td><td>C+</td></tr>
                    <tr><td class="py-2">2.0</td><td>C</td></tr>
                    <tr><td class="py-2">1.5</td><td>D+</td></tr>
                    <tr><td class="py-2">1.0</td><td>D</td></tr>
                    <tr><td class="py-2">0.0</td><td>F</td></tr>
                  </tbody>
                </table>
              </div>

            </div>
          </div>




        </div>
      </div>
    </div>
    <script src="script.js"></script>
  </body>
</html>